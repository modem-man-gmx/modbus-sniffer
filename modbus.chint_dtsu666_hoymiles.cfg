# This is a configuration file for Modbus/RTU RS485 electronically kilowatt-hour meter device "Hoymiles DTSU-666 made by ChINT"
; Format of this file is:
; Register Address <comma> Length in bytes <comma> Orientation <comma> data type <comma> reported physical Unit as text <comma> factor to preferred Unit <comma> preferred Unit <comma> Register Name [A-Za-z0-9_/~+-] <comma> optionally descriptive Text
; <comma> is the ',' sign.
; Semicolon and Hash (;#) at 1st column are comment lines
; all numbers in 1234 decimal, 0765 octal or 0xabcd1234 hexadecimal format
; do not use comma in freeform text, except int the last entry (Description)
; Description and the comma before can get omitted
;
; ABCD is big endian 32 bit, AB is big endian 16 bit, DCBA is little Endian 32 bit a.s.o.
;
; data type is of (void, dump, bit, bits, uint8_t, int8_t, uint16_t, int16_t, uint32_t, int32_t, float) with float=C++32 bit float, void=drop it, dump=hexdump bytes
;
; factor to preferred Unit is a double precision float value to multiplied with read and interpreted value, resulting in display value and preferred Unit as unit
; e.g. factor 0.1, preferred "Hz"; reading cHz (centi-Hertz) = 512, then * 0.1 => displaying 51.2 Hz
; e.g. factor 1000.0, preferred "A"; reading kA = 3, then * 1000 => displaying 3000 A
; factor can be 0 -> no conversion (preferred Unit can be empty, but this is independently)
#
# simplest entry examples:
# 0x0001,4,ABCD,,Register_01
# 1024,2,BA,cV,the Voltage in centi volt (0 V .. 655.35 V)
#
0x0000,2,AB,uint16_t,Vers,0,,Revision,Revision of Firmware
0x0001,2,AB,uint16_t,PIN,0,,Password
0x0002,2,AB,uint16_t,Clr.E,0,,clear entries,set 1 to reset all
0x0003,2,AB,uint16_t,enum,0,,3/4 wire,Net Conn Mode (3/4 wire): 0=3phase4wire, 1=3phase3wire
0x0004,2,AB,dump,,0,,RESERVED_Reg_04
0x0005,2,AB,dump,,0,,RESERVED_Reg_05
0x0006,2,AB,uint16_t,i-rat,0,,Current Transf,Current transformer ratio of 1:n Ampere
0x0007,2,AB,uint16_t,u-rat,0,,Voltage Transf,Voltage transformer ratio of 1:n Volt
0x0008,2,AB,int16_t,,0,,RESERVED_Reg_08
0x0009,2,AB,void,,0,,RESERVED_Reg_09
0x000A,2,AB,dump,,0,,RESERVED_Reg_10
0x000B,2,AB,uint16_t,,0,,Meter type, Meter type information
0x000C,2,AB,dump,,0,,RESERVED_Reg_12
#----- larger Gap, not used by Hoymiles ---------
0x002B,2,AB,dump,?,0,,RESERVED_Reg_43
0x002C,2,AB,uint16_t,enum,0,,Protocol,RS485 Wire Prot (1:DL/T645, 2:8n2, 3:8n1, 4:8e1, 5:8o1)
0x002D,2,AB,uint16_t,enum,0,,Baudrate,RS485 Wire Speed (3:9600, 2:4800, 1:2400, 0:1200)
0x002E,2,AB,uint16_t,ID,0,,Modbus Host Address
#----- documented but not usable by Hoymiles ---------
0x002F,2,AB,uint16_t,s,0,,Time:s, Second
0x0030,2,AB,uint16_t,m,0,,Time:m, Minute
0x0031,2,AB,uint16_t,h,0,,Time:h, Hour
0x0032,2,AB,uint16_t,D,0,,Date:D, Day
0x0033,2,AB,uint16_t,M,0,,Date:M, Month
0x0034,2,AB,uint16_t,Y,0,,Date:Y, Year
;================================================  Electric quantity of the secondary side  =================================================
;
# ALL FLOAT Values are "Floating Inverse (AB CD)" stored !!
;
;   All the electric quantity data read by the communication is quadratic numerical, the rate is excluded,
;   complement numbers are the representation of negative numbers. Following is the detailed conversion method.
;
;  Parameter name  |  Conversion formula                  |  Unit  |  Parameter item
; -----------------+--------------------------------------+--------+----------------------
;  Voltage         |  U = URMSx(x=a,b,c)*(UrAt*0.1)*0.1   |  V     | Ua,Ub,Uc,Uab,Ubc,Uca
; -----------------+--------------------------------------+--------+----------------------
;  current         |  I = IRMSx(x=a,b,c)*IrAt*0.001       |  A     | Ia,Ib,Ic
; -----------------+--------------------------------------+--------+----------------------
;  Active power    |  P = Px(x=a,b,c)*(UrAt*0.1)*IrAt*0.1 |  W     | Pt,Pa,Pb,Pc
; -----------------+--------------------------------------+--------+----------------------
;  Reactive power  |  Q = Qx(x=a,b,c)*(UrAt*0.1)*IrAt*0.1 |  var   | Qt,Qa,Qb,Qc
; -----------------+--------------------------------------+--------+----------------------
;  Power factor    |  PF = PFx(x=a,b,c、t)*0.001           |        | PFa,PFb,PFc,PFt
; -----------------+--------------------------------------+--------+----------------------
;  Frequency       |  F = Freq*0.01                       |  Hz    | F
; -----------------+--------------------------------------+--------+----------------------
;  Energy          |  Ep = E* UrAt*IrAt                   |  kWh   | ImpEp，ExpEp，Q1Eq，
;                  |                                      |  kvarh | Q2Eq，Q3Eq，Q4Eq
; -----------------+--------------------------------------+--------+----------------------
; Note: When Potential Transformer(Pt) is 1, the value of UrAt is 10.
;
; ---- Drehstrom-Spannungen (gegen Nachbar-Leiter)
0x2000,4,ABCD,float,dV,10,V,Voltage_AB,Three-Phase Voltage L1-L2
0x2002,4,ABCD,float,dV,10,V,Voltage_BC,Three-Phase Voltage L2-L3
0x2004,4,ABCD,float,dV,10,V,Voltage_CA,Three-Phase Voltage L3-L1
; ------------ Einphasen-Spannungen (gegen Null-Leiter)
0x2006,4,ABCD,float,dV,10,V,Voltage_L1,Single-Phase Voltage L1-N
0x2008,4,ABCD,float,dV,10,V,Voltage_L2,Single-Phase Voltage L2-N
0x200A,4,ABCD,float,dV,10,V,Voltage_L3,Single-Phase Voltage L3-N
; ------------ Einphasen-Strom (gegen Null-Leiter)
0x200C,4,ABCD,float,mA,1000,A,Current_L1,Current in L1
0x200E,4,ABCD,float,mA,1000,A,Current_L2,Current in L2
0x2010,4,ABCD,float,mA,1000,A,Current_L3,Current in L3
; ------------ gesamte Wirkleistung
; VA: Volt-am,floatperes measures all power passed through a distribution network, including reactive and actual. This is equal to the product of root-mean-square volts and amperes.
0x2012,4,ABCD,float,W,0,,Total_System_Active_Power,Total Active Power (German: Summen-Wirkleistung)
; ------------ Einphasen-Wirkleistung (gegen Null-Leiter)
0x2014,4,ABCD,float,W,0,,Active_Power_L1,Active Power at L1 (German: Wirkleistung an L1)
0x2016,4,ABCD,float,W,0,,Active_Power_L2,Active Power at L2 (German: Wirkleistung an L2)
0x2018,4,ABCD,float,W,0,,Active_Power_L3,Active Power at L3 (German: Wirkleistung an L3)
; ------------- gesamte Blindleistung
0x201A,4,ABCD,float,VAr,0,,Total_System_Reactive_Power,Total Reactive Power (German: Summen-Blindleistung)
; ------------ Einphasen-Blindleistung (gegen Null-Leiter)
0x201C,4,ABCD,float,VAr,0,,Reactive_Power_L1,V*A reactive
0x201E,4,ABCD,float,VAr,0,,Reactive_Power_L2,V*A reactive
0x2020,4,ABCD,float,VAr,0,,Reactive_Power_L3,V*A reactive
; ------------ unknown ---------------------------
0x2022,4,ABCD,float,,0,,RESERVED_Reg_8226
0x2024,4,ABCD,float,,0,,RESERVED_Reg_8228
0x2026,4,ABCD,float,,0,,RESERVED_Reg_8230
0x2028,4,ABCD,float,,0,,RESERVED_Reg_8232
; ------------ gesamte Phasenverschiebung / Power Factor
; Power facto,floatr is the ratio of resistive (or real) power to volt-amperes. A capacitive load has a leading power factor, and an inductive load has a lagging power factor. A purely resistive load exhibits a power factor of 1.
; Cos(phi) = ,floatP/S = W/VA = power factor, p.f.
0x202A,4,ABCD,float,cos(phi),0,,Total_System_Power_Factor,Watt by VA
; ------------ Phasenverschiebung (gegen Null-Leiter)
0x202C,4,ABCD,float,cos(phi),0,,Power_Factor_L1,Watt/VA @ L1
0x202E,4,ABCD,float,cos(phi),0,,Power_Factor_L2,Watt/VA @ L2
0x2030,4,ABCD,float,cos(phi),0,,Power_Factor_L3,Watt/VA @ L3
; ------------ unknown ---------------------------
0x2032,4,ABCD,float,,0,,RESERVED_Reg_8242
0x2034,4,ABCD,float,,0,,RESERVED_Reg_8244
0x2036,4,ABCD,float,,0,,RESERVED_Reg_8246
0x2038,4,ABCD,float,,0,,RESERVED_Reg_8248
0x203A,4,ABCD,float,,0,,RESERVED_Reg_8250
0x203C,4,ABCD,float,,0,,RESERVED_Reg_8252
0x203E,4,ABCD,float,,0,,RESERVED_Reg_8254
0x2040,4,ABCD,float,,0,,RESERVED_Reg_8256
0x2042,4,ABCD,float,,0,,RESERVED_Reg_8258
; ------------ Summarized Values
0x2044,4,ABCD,float,cHz,100,Hz,Frequency,Frequency of Supply Voltages
; -------------- unknown ---------------------------
0x2046,4,ABCD,float,,0,,RESERVED_Reg_8262
0x2048,4,ABCD,float,,0,,RESERVED_Reg_8264
0x204A,4,ABCD,float,,0,,RESERVED_Reg_8266
0x204C,4,ABCD,float,,0,,RESERVED_Reg_8268
0x204E,4,ABCD,float,,0,,RESERVED_Reg_8270
; -------------- unknown end ---------------------------
; ------------- Gesamtwirkleistungsbedarf
0x2050,4,ABCD,float,W,0,,Total_Demand_Active_Power,Total Demand Active Power (Ger:Gesamtwirkleistungsbedarf)
; ------------ unknown ---------------------------
0x401E,4,ABCD,float,kWh,0,,Positive_Act_Import_Current,reading returns error 2: Illegal data address (on Hoymiles variant)
0x4028,4,ABCD,float,kWh,0,,Negative_Active_Export_Nrg,reading returns error 2: Illegal data address (on Hoymiles variant)
;
